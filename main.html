<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Laval RP â€” Panneau ModÃ©rateur</title>
<style>
:root{
  --bg1:#0b0b10; --bg2:#101024; --panel:rgba(255,255,255,0.04);
  --accent1:#00aaff; --accent2:#ff3b3b; --muted:rgba(255,255,255,0.6);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter, sans-serif;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:#e9eef8}
.app{display:flex;height:100vh;gap:22px;padding:28px;align-items:stretch}

/* Sidebar */
.sidebar{width:280px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.06));border-radius:16px;padding:18px;box-shadow:0 8px 30px rgba(0,0,0,0.6);display:flex;flex-direction:column;gap:14px}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:46px;height:46px;border-radius:10px;background:linear-gradient(135deg,var(--accent2),var(--accent1));display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.5)}
.brand h2{font-size:16px;margin:0}
.user{background:var(--panel);padding:10px;border-radius:10px;font-size:13px;display:flex;gap:10px;align-items:center}
.user .avatar{width:42px;height:42;border-radius:8px;background:linear-gradient(180deg,#222,#111);display:flex;align-items:center;justify-content:center;color:#fff}
.nav{display:flex;flex-direction:column;gap:8px;margin-top:6px}
.nav button{ text-align:left;padding:10px;border-radius:10px;border:none;background:transparent;color:var(--muted);cursor:pointer; display:flex;align-items:center;gap:10px;font-size:14px;transition:all .18s; }
.nav button:hover{transform:translateX(6px);color:#fff}
.nav button.active{background:linear-gradient(90deg, rgba(0,170,255,0.08), rgba(255,59,59,0.04));color:#fff;box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02)}
.version{margin-top:auto;font-size:12px;color:rgba(255,255,255,0.35);text-align:center}

/* Main */
.main{flex:1;display:flex;flex-direction:column;gap:18px}
.topbar{height:68px;background:var(--panel);border-radius:14px;padding:12px 18px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 6px 22px rgba(0,0,0,0.4)}
.search{display:flex;align-items:center;gap:10px;background:rgba(255,255,255,0.03);padding:8px 12px;border-radius:10px;min-width:280px}
.search input{background:transparent;border:none;outline:none;color:#fff}
.content{flex:1;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));border-radius:14px;padding:20px;overflow:auto}
h1.page-title{margin:0 0 12px 0;font-size:20px}
.card{background: rgba(255,255,255,0.03);padding:14px;border-radius:12px;margin-bottom:12px}
.rules{line-height:1.5;color:#dfe9f5}
.announce .item{background:rgba(0,0,0,0.25);padding:10px;border-radius:10px}
.grid2{display:grid;grid-template-columns:1fr 360px;gap:18px}
.small{font-size:13px;color:var(--muted)}
table{width:100%;border-collapse:collapse}
th,td{padding:10px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.03)}
th{font-size:13px;color:var(--muted)}
tr:hover td{background:linear-gradient(90deg, rgba(0,170,255,0.02), rgba(255,59,59,0.01))}
.btn{background:var(--accent1);color:#022;padding:8px 10px;border-radius:8px;border:none;cursor:pointer}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#fff}
.modOnly{display:none}
</style>
</head>
<body>
<div class="app">
<aside class="sidebar">
  <div class="brand">
    <div class="logo">LR</div>
    <div><h2>Laval RP</h2><div class="small">Mod Dashboard</div></div>
  </div>
  <div class="user">
    <div class="avatar" id="avatarTxt">A</div>
    <div>
      <div id="userNameSmall">â€”</div>
      <div class="small" id="userEmailSmall">â€”</div>
    </div>
  </div>

  <nav class="nav">
    <button data-page="regles" class="active">ðŸ“œ RÃ¨glements</button>
    <button data-page="annonces">ðŸ“¢ Annonces</button>
    <button data-page="users">ðŸ‘¥ Gestion utilisateurs</button>
    <button data-page="spvl">ðŸš“ SPVL</button>
    <button data-page="sq">ðŸ›‚ SQ</button>
    <button data-page="mtq">ðŸš§ MTQ</button>
    <button data-page="pompiers">ðŸš’ Pompiers</button>
    <button data-page="tickets">ðŸŽ« Tickets / Signalements</button>
  </nav>
  <div class="version">ConnectÃ© Â· <span id="userRank">â€”</span></div>
</aside>

<main class="main">
<div class="topbar">
  <div class="search">ðŸ”Ž <input id="globalSearch" placeholder="Recherche..." /></div>
  <div style="display:flex;gap:12px;align-items:center">
    <div class="small" id="clock"></div>
    <button class="btn ghost" id="profileBtn">Mon profil</button>
    <button class="btn" id="logout">Se dÃ©connecter</button>
  </div>
</div>

<div class="content">
<!-- RÃ¨glements -->
<section id="reglesSection" class="page">
<h1 class="page-title">ðŸ“œ RÃ¨glements</h1>
<div class="card rules">
<ul>
<li>Respect RP / pas de HRP</li>
<li>Respect staff</li>
<li>Pas de spam / insulte</li>
</ul>
</div>
</section>

<!-- Annonces -->
<section id="annoncesSection" class="page" style="display:none">
<h1 class="page-title">ðŸ“¢ Annonces</h1>
<div class="announce"></div>
<div class="card modOnly">
<h3>Poster annonce (mod)</h3>
<textarea id="announceText" rows="3" style="width:100%;margin-top:8px;border-radius:8px;padding:8px;background:transparent;color:#fff;border:1px solid rgba(255,255,255,0.04)"></textarea>
<div style="margin-top:8px;display:flex;gap:8px">
<button class="btn" id="postAnn">Poster</button>
<button class="btn ghost" id="clearAnn">Effacer</button>
</div>
</div>
</section>

<!-- Gestion utilisateurs -->
<section id="usersSection" class="page" style="display:none">
<h1 class="page-title">ðŸ‘¥ Gestion utilisateurs</h1>
<div class="card modOnly">
<button class="btn" id="addUserBtn">Ajouter utilisateur</button>
<button class="btn ghost" id="banUserBtn">Bannir / Suspendre</button>
</div>
<table id="usersTable">
<thead><tr><th>Nom</th><th>Email</th><th>Rang</th><th>Action</th></tr></thead>
<tbody></tbody>
</table>
</section>

<!-- SPVL -->
<section id="spvlSection" class="page" style="display:none">
<h1 class="page-title">ðŸš“ SPVL</h1>
<div class="card modOnly"><button class="btn">Nouvelle fiche</button></div>
<table id="spvlTable">
<thead><tr><th>Nom</th><th>Infraction</th><th>Action</th></tr></thead><tbody></tbody>
</table>
</section>

<!-- SQ -->
<section id="sqSection" class="page" style="display:none">
<h1 class="page-title">ðŸ›‚ SQ</h1>
<table id="sqTable">
<thead><tr><th>Nom</th><th>RÃ©sumÃ©</th><th>Action</th></tr></thead><tbody></tbody>
</table>
</section>

<!-- MTQ -->
<section id="mtqSection" class="page" style="display:none">
<h1 class="page-title">ðŸš§ MTQ</h1>
<div class="card modOnly"><button class="btn">Ajouter infraction MTQ</button></div>
<table id="mtqTable">
<thead><tr><th>Nom</th><th>Infraction</th><th>Action</th></tr></thead><tbody></tbody>
</table>
</section>

<!-- Pompiers -->
<section id="pompiersSection" class="page" style="display:none">
<h1 class="page-title">ðŸš’ Pompiers</h1>
<table id="fireTable">
<thead><tr><th>Nom</th><th>Ã‰vÃ©nement</th><th>Action</th></tr></thead><tbody></tbody>
</table>
</section>

<!-- Tickets -->
<section id="ticketsSection" class="page" style="display:none">
<h1 class="page-title">ðŸŽ« Tickets / Signalements</h1>
<table id="ticketsTable">
<thead><tr><th>Ticket</th><th>Utilisateur</th><th>Status</th><th>Action</th></tr></thead><tbody></tbody>
</table>
</section>

</div>
</main>
</div>

<script>
// user simulation
const user=JSON.parse(localStorage.getItem('user')||'{"username":"Alex","email":"alex@mail.com","rank":"mod"}');
if(!user) window.location.href='/connexion';
document.getElementById('userNameSmall').textContent=user.username;
document.getElementById('userEmailSmall').textContent=user.email;
document.getElementById('avatarTxt').textContent=user.username[0].toUpperCase();
document.getElementById('userRank').textContent=(user.rank||'citoyen').toUpperCase();

// show modOnly elements
if(user.rank==='mod') document.querySelectorAll('.modOnly').forEach(el=>el.style.display='block');

// clock
function updateClock(){ document.getElementById('clock').textContent=new Date().toLocaleString();}
updateClock(); setInterval(updateClock,1000);

// nav
const navButtons=Array.from(document.querySelectorAll('.nav button'));
const pages={
  regles:document.getElementById('reglesSection'),
  annonces:document.getElementById('annoncesSection'),
  users:document.getElementById('usersSection'),
  spvl:document.getElementById('spvlSection'),
  sq:document.getElementById('sqSection'),
  mtq:document.getElementById('mtqSection'),
  pompiers:document.getElementById('pompiersSection'),
  tickets:document.getElementById('ticketsSection')
};
function showPage(k){Object.values(pages).forEach(p=>p.style.display='none');pages[k].style.display='';navButtons.forEach(b=>b.classList.toggle('active',b.dataset.page===k));}
navButtons.forEach(b=>b.addEventListener('click',()=>showPage(b.dataset.page)));
showPage('regles');

// logout
document.getElementById('logout').addEventListener('click',()=>{ localStorage.removeItem('user'); window.location.href='/connexion'; });
</script>
</body>
</html>
